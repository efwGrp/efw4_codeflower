<!DOCTYPE html>
<html>
<head>
	<!-- Load plotly.js into the DOM -->
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	<script src='https://cdn.plot.ly/plotly-2.20.0.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>

<body style="overflow:hidden">
	<div id='myDiv'></div>
	<table border=1 id="tblData" style="display:none">
<!----------------------------------------->
	<tr><td x=0.1 y=9>/myPage.jsp</td>
		<td x=1 y=12>efw.efwCorsFilter.java</td>
		<td x=1.4 y=9>efw.efwFilter.java</td>
		<td x=2 y=4>[myPage.jsp]</td>
												<td x=2.7 y=1>< efw:attr ></td><td x=3.4 y=4>efw.tld</td><td x=4 y=1>efw.taglib.Attr.java</td></tr>
	<tr><td colspan=3></td><td>[myPage.jsp]</td><td x=2.7 y=2>< efw:msg ></td><td>efw.tld</td><td x=4 y=2>efw.taglib.Msg.java</td></tr>
	<tr><td colspan=3></td><td>[myPage.jsp]</td><td x=2.7 y=3>< efw:part ></td><td>efw.tld</td><td x=4 y=3>efw.taglib.Part.java</td></tr>
	<tr><td colspan=3></td><td>[myPage.jsp]</td><td x=2.7 y=4>< efw:prop ></td><td>efw.tld</td><td x=4 y=4>efw.taglib.Prop.java</td></tr>
	<tr><td colspan=3></td><td>[myPage.jsp]</td><td x=2.7 y=5>< efw:client ></td><td>efw.tld</td><td x=4 y=5>efw.taglib.Client.java</td>
								<td x=5 y=6>/efw/</td><td x=6.1 y=1>jquery.min.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=2>efw.css</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=3>easytimer.min.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=4>js.cookie.min.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=5>efw.client.messages.jsp</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=6>efw.client.format.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=7>efw.client.inputbehavior.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=8>efw.client.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=9>efw.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=10.5>efw.dialog.jquery-ui.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=15>efw.dialog.bootstrap.js</td></tr>
		<tr><td colspan=6></td><td>efw.taglib.Client.java</td>
								<td x=5 y=12.5>/jquery-ui/</td><td x=6.1 y=11.5>jquery-ui.structure.min.css</td></tr>
			<tr><td colspan=7></td><td>/jquery-ui/</td><td x=6.1 y=12.5>themes/[theme]/theme.css</td></tr>
			<tr><td colspan=7></td><td>/jquery-ui/</td><td x=6.1 y=13.5>jquery-ui.min.js</td></tr>
		<tr><td colspan=6></td><td>efw.taglib.Client.java</td>
								<td x=5 y=15.5>/bootstrap/</td><td x=6.1 y=16>[major]/css/bootstrap.min.css</td></tr>
			<tr><td colspan=7></td><td>/bootstrap/</td><td x=6.1 y=17>[major]/js/bootstrap.bundle.min.js</td></tr>
			<tr><td colspan=7></td><td>/bootstrap/</td><td x=6.1 y=18>[major]/js/bootstrap.min.js</td></tr>
			<tr><td colspan=7></td><td>/bootstrap/</td><td x=6.1 y=19>icons/bootstrap-icons.css</td></tr>
	<tr><td colspan=3></td><td>[myPage.jsp]</td><td x=2.7 y=6>< efw:chart ></td><td>efw.tld</td><td x=4 y=6>efw.taglib.Chart.java</td>
									<td>/efw/</td><td x=6.1 y=20.5>efw.chart.googlechart.js</td></tr>
			<tr><td colspan=7></td><td>/efw/</td><td x=6.1 y=22.5>efw.chart.chartjs.js</td></tr>
		<tr><td colspan=6></td><td colspan=2>efw.taglib.Chart.java</td><td x=6.1 y=21.5>https://www.gstatic.com/charts/loader.js</td></tr>
		<tr><td colspan=6></td><td>efw.taglib.Chart.java</td>
								<td x=5 y=19>/chart/</td><td x=6.1 y=23.5>Chart.min.js</td></tr>
	<tr><td colspan=3></td><td>[myPage.jsp]</td><td x=2.7 y=7>< efw:elfinder ></td><td>efw.tld</td><td x=4 y=7>efw.taglib.ElFinder.java</td>
								<td x=5 y=22>/elfinder/</td><td x=6.1 y=25>css/elfinder.min.css</td></tr>
			<tr><td colspan=7></td><td>/elfinder/</td><td x=6.1 y=26>css/theme.css</td></tr>
			<tr><td colspan=7></td><td>/elfinder/</td><td x=6.1 y=27>js/elfinder4efw.min.js</td></tr>
			<tr><td colspan=7></td><td>/elfinder/</td><td x=6.1 y=28>js/elfinder.messages.jsp</td></tr>
	<tr><td x=0.1 y=14>/efwServlet</td><td>efw.efwCorsFilter.java</td><td x=1.4 y=14>efw.efwServlet.java</td>
	<td x=2 y=29>efw.script.ScriptManager.java</td><td x=2.4 y=31>efw.doHandles.js</td><td x=2.8 y=33>efw.server.js</td><td x=3.4 y=38>[myEvent.js]</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=29>mdl[ file ]</td><td x=5 y=29.5>efw.server.file.js</td><td x=6.1 y=29.5>efw.file.FileManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=30>mdl[ absfile ]</td><td>efw.server.file.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=31>mdl[ barcode ]</td><td x=5 y=31>efw.server.barcode.js</td><td x=6.1 y=31>efw.barcode.BarCodeManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=32>mdl[ brms ]</td><td x=5 y=32>efw.server.brms.js</td><td x=6.1 y=32>efw.brms.BrmsManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=33>mdl[ rest ]</td><td x=5 y=33>efw.server.rest.js</td><td x=6.1 y=33>efw.rest.RestManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=34>mdl[ event ]</td><td x=5 y=34>efw.server.event.js</td><td x=6.1 y=34>efw.event.RemoteEventManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=35>mdl[ db ]</td><td x=5 y=35>efw.server.db.js</td><td x=6.1 y=35>efw.db.DatabaseManager.java</td><td x=6.5 y=36>efw.db.Database.java</td></tr>
																<tr><td colspan=10></td><td>efw.db.Database.java</td><td x=6.9 y=37.5>efw.sql.SqlManager.java</td></tr>
																<tr><td colspan=11></td><td>efw.sql.SqlManager.java</td><td x=8 y=35>efw.sql.Sql.java</td></tr>
																<tr><td colspan=11></td><td>efw.sql.SqlManager.java</td><td x=8 y=36>efw.sql.SqlAnalysisResult.java</td></tr>
																<tr><td colspan=11></td><td>efw.sql.SqlManager.java</td><td x=8 y=37>efw.sql.SqlHashMap.java</td></tr>
																<tr><td colspan=11></td><td>efw.sql.SqlManager.java</td><td x=8 y=38>efw.sql.SqlIf.java</td></tr>
																<tr><td colspan=11></td><td>efw.sql.SqlManager.java</td><td x=8 y=39>efw.sql.SqlInclude.java</td></tr>
																<tr><td colspan=11></td><td>efw.sql.SqlManager.java</td><td x=8 y=40>efw.sql.SqlText.java</td></tr>
		
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=36>mdl[ mail ]</td><td x=5 y=36>efw.server.mail.js</td><td x=6.1 y=39>efw.mail.MailManager.java</td><td x=8 y=41.5>efw.mail.MailHashMap.java</td></tr>
																<tr><td colspan=9></td><td>efw.mail.MailManager.java</td><td x=8 y=42.5>efw.mail.MailAuthenticator.java</td></tr>
																<tr><td colspan=9></td><td>efw.mail.MailManager.java</td><td x=8 y=43.5>efw.mail.Mail.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=37>mdl[ properties ]</td><td x=5 y=37>efw.server.properties.js</td><td x=6.1 y=41>efw.properties.PropertiesManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=38>mdl[ session ]</td><td x=5 y=38>efw.server.session.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=39>mdl[ cookie ]</td><td x=5 y=39>efw.server.cookie.js</td><td x=6.1 y=42>efw.cookie.CookieManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=40>mdl[ *.debug ]</td><td x=5 y=40>efw.server.debug.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=41>mdl[ Date|Number ]</td><td x=5 y=41>efw.server.format.js</td><td x=6.1 y=43>efw.format.FormatManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=42>mdl[ *.base64* ]</td><td>efw.server.file.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=43>mdl[ messages ]</td><td x=5 y=43>efw.server.messages.js</td><td x=6.1 y=44>efw.i18n.I18nManager.java</td><td x=8 y=45>efw.i18n.I18nProperties.java</td></tr>
		
		<tr><td x=0.1 y=10>/uploadServlet</td><td>efw.efwCorsFilter.java</td><td x=1.4 y=10 colspan=7>efw.file.uploadServlet.java</td><td>efw.file.FileManager.java</td></tr>
		<tr><td x=0.1 y=11>/downloadServlet</td><td>efw.efwCorsFilter.java</td><td x=1.4 y=11 colspan=7>efw.file.downloadServlet.java</td><td>efw.file.FileManager.java</td></tr>
		<tr><td x=0.1 y=13>/efwRestAPI/*</td><td>efw.efwCorsFilter.java</td><td x=1.4 y=13>efw.efwRestAPI.java</td><td>efw.script.ScriptManager.java</td></tr>
		<tr><td x=0.1 y=15>/partServlet</td><td>efw.efwCorsFilter.java</td><td x=1.4 y=15>efw.taglib.partServlet.java</td></tr>
		<tr><td colspan=6></td><td colspan=3>efw.taglib.Prop.java</td><td>efw.properties.PropertiesManager.java</td></tr>
		<tr><td colspan=6></td><td colspan=3>efw.taglib.Msg.java</td><td>efw.i18n.I18nManager.java</td></tr>
		<tr><td x=0.1 y=16 colspan=2>/drawServlet</td><td x=1.4 y=16 colspan=7>efw.barcode.drawServlet.java</td><td>efw.barcode.BarCodeManager.java</td></tr>
		<tr><td x=0.1 y=17 colspan=2>c:/.../efwBatch</td><td x=1.4 y=17 colspan=7>efw.efwBatch.java</td><td>efw.script.ScriptManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=44>cls[ BinaryReader ]</td><td x=5 y=44>efw.server.binary.js</td><td>efw.file.FileManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=45>cls[ CSVReader ]</td><td x=5 y=45.5>efw.server.csv.js</td><td>efw.file.FileManager.java</td></tr>
																<tr><td colspan=8></td><td>efw.server.csv.js</td><td x=6.1 y=45.5>efw.csv.CSVReader.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=46>cls[ CSVWriter ]</td><td x=5 y=45>efw.server.csv.js</td><td x=6.1 y=46.5>efw.csv.CSVManager.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=47>cls[ Excel ]</td><td x=5 y=47>efw.server.excel.js</td><td x=6.1 y=48>efw.excel.ExcelManager.java</td><td x=8 y=48>efw.excel.Excel.java</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=48>cls[ Record ]</td><td x=5 y=48>efw.server.record.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=49>cls[ Result ]</td><td x=5 y=49>efw.server.result.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=50>cls[ Batch ]</td><td x=5 y=50>efw.server.batch.js</td></tr>
		<tr><td colspan=6></td><td>[myEvent.js]</td><td x=4 y=51>cls[ Threads ]</td><td x=5 y=51>efw.server.threads.js</td></tr>
	</table>
<!----------------------------------------->
	<table border=1 id="tblData" style="display:none">
		<tr><td x=9 y=15> </td><td x=9 y=15>efw.framework.java</td></tr>
		<tr><td x=9 y=15> </td><td x=9 y=15>efw.framework.java</td></tr>
		<tr><td x=9 y=15> </td><td x=9 y=15>efw.framework.java</td></tr>
		<tr><td x=9 y=15> </td><td x=9 y=15>efw.framework.java</td></tr>
		<tr><td x=9 y=15> </td><td x=9 y=15>efw.framework.java</td></tr>
<!--		<tr><td>efw.brms.BrmsManager.java</td><td x=9.5 y=15>efw.framework.java</td></tr>
		<tr><td>efw.cookie.CookieManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.csv.CSVManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.db.Database.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.db.DatabaseManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.excel.ExcelManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.file.downloadServlet.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.file.FileManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.file.uploadServlet.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.format.FormatManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.i18n.I18nManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.mail.MailManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.rest.RestManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.script.ScriptManager.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.taglib.Client.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.taglib.ElFinder.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.taglib.Part.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.taglib.partServlet.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.efwBatch.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.efwCorsFilter.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.efwFilter.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.efwRestAPI.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.efwServlet.java</td><td>efw.framework.java</td></tr>
		<tr><td>efw.doHandles.js</td><td>efw.framework.java</td></tr>
		<tr><td>efw.server.db.js</td><td>efw.framework.java</td></tr>
		<tr><td>efw.server.event.js</td><td>efw.framework.java</td></tr>
		<tr><td>efw.server.session.js</td><td>efw.framework.java</td></tr> -->
		
	</table>
</body>
<script>
var objLabel={};
var label=[];
var color=[];
var source=[];
var target=[];
var value=[];
var x=[];
var y=[];
var sumCountX=9.5;
var sumCountY=50;
$("#tblData tr").each(function(){
	var row=[];
	var preV="";
	$("td",this).each(function(){
		var v=$(this).text();
		if (v!=null&&v!=""){
			if (objLabel[v]==null){
				label.push(v);
				if (v.indexOf("/")==0||v.indexOf("c:")==0){
					color.push("silver");
				}else if (v.indexOf(".java")>-1){
					color.push("red");
				}else if (v.indexOf(".jsp")>-1){
					color.push("orange");
				}else if (v.indexOf(".js")>-1||v=="Efw(\"myEvent\")"){
					color.push("yellow");
				}else if (v.indexOf(".xml")>-1||v=="efw.tld"){
					color.push("green");
				}else if (v.indexOf(".css")>-1){
					color.push("cyan");
				}else if (v.indexOf("efw.server")>-1||v=="efw.doInit.js"||v=="efw.doHandles.js"){
					color.push("orange");
				}else{
					color.push("blue");//TODO
				}
				objLabel[v]=label.length-1;
				if ($(this).attr("x")!=null){
					x.push($(this).attr("x")/sumCountX);
					y.push($(this).attr("y")/sumCountY);
				}else{
					x.push(0);
					y.push(0);
				}
			}
			if (preV!=null&&preV!=""){
				source.push(objLabel[preV]);
				target.push(objLabel[v]);
				value.push(1);
			}
			preV=v;
		}
		
	});

});

var data=[{type:"sankey",orientation:"h",
			node:{pad:10,thickness:10,line:{color:"black",width:1},label:label,color:color,x:x,y:y},
			link:{source:source,target:target,value:value}
		}];
var layout = {title: "Efwランタイムのモジュール関係図（Module Relationship Diagram of Efw Runtime）",font:{size:10},width: $( window ).width(),height: $( window ).height(),}
Plotly.react("myDiv",data,layout);

</script>
</html>